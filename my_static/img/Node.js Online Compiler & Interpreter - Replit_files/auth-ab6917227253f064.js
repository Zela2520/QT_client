(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2473],{2304:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth",function(){return r(36527)}])},99520:function(e,t,r){"use strict";r.d(t,{g1:function(){return p},h$:function(){return h}});var n=r(35944),o=r(60536),a=r.n(o),i=(r(67294),r(41664)),s=r.n(i),c=r(76864),l=r(72972),u=function(){return(0,n.BX)("header",{className:"jsx-ef5c5fdc4571b0cd auth-header",children:[(0,n.tZ)("div",{className:"jsx-ef5c5fdc4571b0cd auth-header-logo",children:(0,n.tZ)("div",{className:"jsx-ef5c5fdc4571b0cd",children:(0,n.tZ)(s(),{href:"/",children:(0,n.tZ)("a",{"aria-label":"Home",className:"jsx-ef5c5fdc4571b0cd auth-header-logo-link",children:(0,n.tZ)(l.Z,{})})})})}),(0,n.tZ)(a(),{id:"ef5c5fdc4571b0cd",children:".auth-header.jsx-ef5c5fdc4571b0cd{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:0 25px;background-color:var(--background-default);border-bottom:var(--accent-grey-strongest);height:60px}.auth-header-logo-link.jsx-ef5c5fdc4571b0cd{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;height:28px;color:var(--foreground-default);overflow:hidden;text-decoration:none}.auth-header-logo.jsx-ef5c5fdc4571b0cd,.auth-header-nav.jsx-ef5c5fdc4571b0cd{width:70px}.auth-header-title.jsx-ef5c5fdc4571b0cd{-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;text-align:center;font-weight:normal;color:black;font-size:130%}@media(min-width:400px){.auth-header-logo-link.jsx-ef5c5fdc4571b0cd{width:116px}}"})]})},h=function(e){var t=e.heading,r=e.subHeading;return(0,n.BX)("div",{className:"jsx-84d0af9587a0f99d auth-welcome-header",children:[(0,n.tZ)("div",{className:"jsx-84d0af9587a0f99d auth-welcome-heading",children:t}),r&&(0,n.tZ)("div",{className:"jsx-84d0af9587a0f99d auth-welcome-subheading",children:r}),(0,n.tZ)(a(),{id:"84d0af9587a0f99d",children:".auth-welcome-header.jsx-84d0af9587a0f99d{width:100%;-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;background-color:rgb(81,146,179);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;height:200px;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-bottom:20px}.auth-welcome-heading.jsx-84d0af9587a0f99d{font-size:44px;color:rgb(255,255,255);font-weight:100;white-space:nowrap;width:75%;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;text-align:center}.auth-welcome-subheading.jsx-84d0af9587a0f99d{font-size:20px;font-weight:400;margin-top:5px;color:rgba(255,255,255,.5)}"})]})},p=function(e){var t=e.children,r=e.title,o=e.description,i=e.image,s=e.minHeight;return(0,n.BX)(c.Z,{title:r,description:o,image:i,style:{paddingTop:0},noFooter:!0,noHeader:!0,hideEmailVerify:!0,noSidebar:!0,children:[(0,n.tZ)(u,{title:r}),(0,n.tZ)("main",{className:a().dynamic([["87bb9b750ff222dc",[null!==s&&void 0!==s?s:"100vh"]]])+" auth-layout-content",children:t}),(0,n.tZ)(a(),{id:"87bb9b750ff222dc",dynamic:[null!==s&&void 0!==s?s:"100vh"],children:".auth-layout-content.__jsx-style-dynamic-selector{min-height:".concat(null!==s&&void 0!==s?s:"100vh",";padding-top:60px;margin-top:-60px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}")})]})}},54854:function(e,t,r){"use strict";function n(e,t){if(!e)return null;var r=e[t];return r?Array.isArray(r)?null:r:null}r.d(t,{Z:function(){return n}})},70338:function(e,t,r){"use strict";var n=r(47568),o=r(34051),a=r.n(o),i=r(15794);t.Z=function(){var e=(0,n.Z)(a().mark((function e(t,r){var n,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}n=t.user,e.next=14;break;case 5:if(!((o=r.getState().user)&&o.userInfo.isLoggedIn&&o.userInfo)){e.next=10;break}n=o.userInfo,e.next=14;break;case 10:return e.next=12,(0,i.LK)("/is_authenticated");case 12:(s=e.sent).success&&(n=s.user);case 14:return n&&(t&&(n=JSON.parse(JSON.stringify(n))),r.dispatch({type:"FETCH_USER_INFO_SUCCESS",user:n})),e.abrupt("return",{user:n});case 16:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},36527:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return z}});var n=r(47568),o=r(51438),a=r(28668),i=r(26042),s=r(25171),c=r(34051),l=r.n(c),u=r(35944),h=r(67294),p=r(11163),d=r.n(p),f=r(78135),m=r(18135),g=r(99520),b=r(72329),x=r(70653),v=r(70318),w=r(70338),y=function(){return{href:"/home",as:"/~"}},k=r(11987),j=function(e,t){var r=e.host,n=e.protocol,o=t?(0,k.parse)(t,!0):{query:{},pathname:"/"},a=o.query,i=o.pathname;return(0,k.format)({protocol:n,host:r,pathname:i,query:a})},Z=r(54854),C=r(85557),U=r(89735),S=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(){var e;return(0,o.Z)(this,r),(e=t.apply(this,arguments)).handleSubmit=function(t){if("error"in t&&t.error)e.props.showMessage({content:t.error,type:"error",time:3e3});else{if(!("user"in t)||!t.user)throw new Error("Expected error or user object");var r=t.user.postLoginRedirectUrl;if(null!=r&&r.length>0)window.location.href=r;else{var n=e.state,o=n.isLogin,a=n.isTeacher;e.props.showMessage({content:"".concat(o?"Log in":"Signup"," Successful"),type:"confirm",time:2e3});var i=e.props.router.query,s=o&&!t.social||t.social&&!t.newUser,c=(0,Z.Z)(i,"goto");if(s)if(c)window.location.href=j(window.location,c);else{var l=y(),u=l.href,h=l.as;d().push(u,h)}else(0,U.j)(t.user.id.toString()),c?window.location.href=j(window.location,c):a&&(0,v.Z)(t.user,"flag-teams-onboarding")?window.location.href="/teams/free-trial":"landing"===d().query.from?window.location.href="/~?from=landing&onboarding=1":window.location.href="/~?onboarding=1"}}},e.handleChangeAuth=function(){var t=e.props.router.query;e.setState((function(e){return{isLogin:!e.isLogin}}),(function(){var r=e.state.isLogin?"/login":"/signup";d().push({pathname:"/auth",query:t},{pathname:r,query:t},{shallow:!0})}))},e.toggleTeacher=function(){var t=e.props.router.query;e.setState((function(e){return{isTeacher:!e.isTeacher}}),(function(){var r=(0,i.Z)({},t);delete r.teacher,e.state.isTeacher&&(r.teacher="1"),d().push({pathname:"/auth",query:r},{pathname:"/signup",query:r},{shallow:!0})}))},e}var c=r.prototype;return c.UNSAFE_componentWillMount=function(){var e=this.props.router.asPath;if(e){var t=e.includes("/login"),r="teacher"in(0,m.Z)(this.props.router.query,"path");this.setState({isLogin:t,isTeacher:r})}},c.componentDidMount=function(){d().replace({pathname:d().pathname,query:d().query},d().asPath.includes("/login")?"/login":"/signup",{shallow:!0})},c.render=function(){var e=(0,m.Z)(this.props.router.query,"path"),t=this.state,r=t.isTeacher,n=t.isLogin,o=e.title,a=e.description,i=e.imageUrl,s=e.bannerMessage,c=n?"Log In":"Sign Up";return(0,u.BX)(g.g1,{title:o||c,description:a,image:i,minHeight:"100vh",children:[e.googleClassroom&&(0,u.tZ)(g.h$,{heading:"Welcome to Teams for Education",subHeading:"Please use your Google account to join your team"}),(0,u.tZ)(b.Z,{email:e.email?e.email.toString():void 0,isLogin:n,isTeacher:r,onSubmit:this.handleSubmit,onChangeAuth:this.handleChangeAuth,toggleTeacher:this.toggleTeacher,privacyInvite:e.invite?e.invite.toString():void 0,randomUsername:e.randomUsername?e.randomUsername.toString():void 0,googleClassroom:Boolean(e.googleClassroom),message:s,source:(0,Z.Z)(e,"source")||(0,Z.Z)(e,"utm_campaign")||void 0}),(0,u.tZ)(C.Z,{})]})},r.getInitialProps=function(e){var t=e.req,r=e.store;return(0,n.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=5;break}return e.next=3,(0,w.Z)(t,r);case 3:e.sent.user&&d().replace("/replsDashboard",{pathname:"/repls"});case 5:return e.abrupt("return",{});case 6:case"end":return e.stop()}}),e)})))()},r}(h.Component),z=(0,f.$j)(null,{showMessage:x.P})(S)},11987:function(e,t,r){!function(){var t={477:function(e){"use strict";e.exports=r(17673)}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var a=n[e]={exports:{}},i=!0;try{t[e](a,a.exports,o),i=!1}finally{i&&delete n[e]}return a.exports}o.ab="//";var a={};!function(){var e,t=a,r=(e=o(477))&&"object"==typeof e&&"default"in e?e.default:e,n=/https?|ftp|gopher|file/;function i(e){"string"==typeof e&&(e=v(e));var t=function(e,t,r){var n=e.auth,o=e.hostname,a=e.protocol||"",i=e.pathname||"",s=e.hash||"",c=e.query||"",l=!1;n=n?encodeURIComponent(n).replace(/%3A/i,":")+"@":"",e.host?l=n+e.host:o&&(l=n+(~o.indexOf(":")?"["+o+"]":o),e.port&&(l+=":"+e.port)),c&&"object"==typeof c&&(c=t.encode(c));var u=e.search||c&&"?"+c||"";return a&&":"!==a.substr(-1)&&(a+=":"),e.slashes||(!a||r.test(a))&&!1!==l?(l="//"+(l||""),i&&"/"!==i[0]&&(i="/"+i)):l||(l=""),s&&"#"!==s[0]&&(s="#"+s),u&&"?"!==u[0]&&(u="?"+u),{protocol:a,host:l,pathname:i=i.replace(/[?#]/g,encodeURIComponent),search:u=u.replace("#","%23"),hash:s}}(e,r,n);return""+t.protocol+t.host+t.pathname+t.search+t.hash}var s="http://",c="w.w",l=s+c,u=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,h=/https?|ftp|gopher|file/;function p(e,t){var r="string"==typeof e?v(e):e;e="object"==typeof e?i(e):e;var n=v(t),o="";r.protocol&&!r.slashes&&(o=r.protocol,e=e.replace(r.protocol,""),o+="/"===t[0]||"/"===e[0]?"/":""),o&&n.protocol&&(o="",n.slashes||(o=n.protocol,t=t.replace(n.protocol,"")));var a=e.match(u);a&&!n.protocol&&(e=e.substr((o=a[1]+(a[2]||"")).length),/^\/\/[^/]/.test(t)&&(o=o.slice(0,-1)));var c=new URL(e,l+"/"),p=new URL(t,c).toString().replace(l,""),d=n.protocol||r.protocol;return d+=r.slashes||n.slashes?"//":"",!o&&d?p=p.replace(s,d):o&&(p=p.replace(s,"")),h.test(p)||~t.indexOf(".")||"/"===e.slice(-1)||"/"===t.slice(-1)||"/"!==p.slice(-1)||(p=p.slice(0,-1)),o&&(p=o+("/"===p[0]?p.substr(1):p)),p}function d(){}d.prototype.parse=v,d.prototype.format=i,d.prototype.resolve=p,d.prototype.resolveObject=p;var f=/^https?|ftp|gopher|file/,m=/^(.*?)([#?].*)/,g=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,b=/^([a-z0-9.+-]*:)?\/\/\/*/i,x=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function v(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),e&&"object"==typeof e&&e instanceof d)return e;var o=(e=e.trim()).match(m);e=o?o[1].replace(/\\/g,"/")+o[2]:e.replace(/\\/g,"/"),x.test(e)&&"/"!==e.slice(-1)&&(e+="/");var a=!/(^javascript)/.test(e)&&e.match(g),s=b.test(e),u="";a&&(f.test(a[1])||(u=a[1].toLowerCase(),e=""+a[2]+a[3]),a[2]||(s=!1,f.test(a[1])?(u=a[1],e=""+a[3]):e="//"+a[3]),3!==a[2].length&&1!==a[2].length||(u=a[1],e="/"+a[3]));var h,p=(o?o[1]:e).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),v=p&&p[1],w=new d,y="",k="";try{h=new URL(e)}catch(t){y=t,u||n||!/^\/\//.test(e)||/^\/\/.+[@.]/.test(e)||(k="/",e=e.substr(1));try{h=new URL(e,l)}catch(e){return w.protocol=u,w.href=u,w}}w.slashes=s&&!k,w.host=h.host===c?"":h.host,w.hostname=h.hostname===c?"":h.hostname.replace(/(\[|\])/g,""),w.protocol=y?u||null:h.protocol,w.search=h.search.replace(/\\/g,"%5C"),w.hash=h.hash.replace(/\\/g,"%5C");var j=e.split("#");!w.search&&~j[0].indexOf("?")&&(w.search="?"),w.hash||""!==j[1]||(w.hash="#"),w.query=t?r.decode(h.search.substr(1)):w.search.substr(1),w.pathname=k+(a?function(e){return e.replace(/['^|`]/g,(function(e){return"%"+e.charCodeAt().toString(16).toUpperCase()})).replace(/((?:%[0-9A-F]{2})+)/g,(function(e,t){try{return decodeURIComponent(t).split("").map((function(e){var t=e.charCodeAt();return t>256||/^[a-z0-9]$/i.test(e)?e:"%"+t.toString(16).toUpperCase()})).join("")}catch(e){return t}}))}(h.pathname):h.pathname),"about:"===w.protocol&&"blank"===w.pathname&&(w.protocol="",w.pathname=""),y&&"/"!==e[0]&&(w.pathname=w.pathname.substr(1)),u&&!f.test(u)&&"/"!==e.slice(-1)&&"/"===w.pathname&&(w.pathname=""),w.path=w.pathname+w.search,w.auth=[h.username,h.password].map(decodeURIComponent).filter(Boolean).join(":"),w.port=h.port,v&&!w.host.endsWith(v)&&(w.host+=v,w.port=v.slice(1)),w.href=k?""+w.pathname+w.search+w.hash:i(w);var Z=/^(file)/.test(w.href)?["host","hostname"]:[];return Object.keys(w).forEach((function(e){~Z.indexOf(e)||(w[e]=w[e]||null)})),w}t.parse=v,t.format=i,t.resolve=p,t.resolveObject=function(e,t){return v(p(e,t))},t.Url=d}(),e.exports=a}()},62587:function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,n,o){r=r||"&",n=n||"=";var a={};if("string"!==typeof e||0===e.length)return a;var i=/\+/g;e=e.split(r);var s=1e3;o&&"number"===typeof o.maxKeys&&(s=o.maxKeys);var c=e.length;s>0&&c>s&&(c=s);for(var l=0;l<c;++l){var u,h,p,d,f=e[l].replace(i,"%20"),m=f.indexOf(n);m>=0?(u=f.substr(0,m),h=f.substr(m+1)):(u=f,h=""),p=decodeURIComponent(u),d=decodeURIComponent(h),t(a,p)?Array.isArray(a[p])?a[p].push(d):a[p]=[a[p],d]:a[p]=d}return a}},12361:function(e){"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,r,n,o){return r=r||"&",n=n||"=",null===e&&(e=void 0),"object"===typeof e?Object.keys(e).map((function(o){var a=encodeURIComponent(t(o))+n;return Array.isArray(e[o])?e[o].map((function(e){return a+encodeURIComponent(t(e))})).join(r):a+encodeURIComponent(t(e[o]))})).join(r):o?encodeURIComponent(t(o))+n+encodeURIComponent(t(e)):""}},17673:function(e,t,r){"use strict";t.decode=t.parse=r(62587),t.encode=t.stringify=r(12361)}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[2094,8764,3285,8966,6085,8135,4275,6864,7206,7046,9774,2888,179],(function(){return t(25436),t(2304)}));var r=e.O();_N_E=r}]);
//# sourceMappingURL=auth-ab6917227253f064.js.map